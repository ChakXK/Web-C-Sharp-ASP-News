@using Microsoft.AspNet.Identity
@using System.Linq;
@using System.Threading.Tasks;
@using System.Net;
@using System.Web;
@using System.Web.Mvc;
@using news.Models;


@{ApplicationDbContext db = new ApplicationDbContext();
    var twoarticles = db.Articles.OrderByDescending(a => a.Views).Take(2).ToList();
    var fourarticles = db.Articles.OrderByDescending(a => a.Views).Skip(2).Take(4).ToList();}


<!-- Aside Column -->
<div class="col-md-4">
    <!-- article widget -->
    <div class="widget">
        <div class="widget-title">
            <h2 class="title">САМОЕ ЧИТАЕМОЕ</h2>
        </div>
        <!-- owl carousel 3 -->
        <div id="owl-carousel-3" class="owl-carousel owl-theme center-owl-nav">
            @foreach (var a in twoarticles)
            {
                <!-- ARTICLE -->
                <article class="article">
                    <div class="article-img">
                        <a href="/Articles/Details/@a.Id">
                            <img src="@Url.Content("~/Content/imgfiles/" + a.Images.Where(img => img.Number == 1)?.First()?.Id +
a.Images.Where(img => img.Number == 1)?.First()?.Name)" alt="">
                        </a>
                        <ul class="article-info">
                        </ul>
                    </div>
                    <div class="article-body">
                        <h4 class="article-title"><a href="/Articles/Details/@a.Id">@a.Heading</a></h4>
                        <ul class="article-meta">
                            <li><i class="fa fa-clock-o"></i>    @a.Heading</li>
                            <li><i class="fa fa-comments"></i> @a.Comments.Count</li>
                        </ul>
                    </div>
                </article>
                <!-- /ARTICLE -->
            }
        </div>
        <!-- /owl carousel 3 -->
        @foreach (var a in fourarticles)
        {
            <!-- ARTICLE -->
            <article class="article widget-article">
                <div class="article-img">
                    <a href="/Articles/Details/@a.Id">
                        <img src="@Url.Content("~/Content/imgfiles/" + a.Images.Where(img => img.Number == 1)?.First()?.Id +
a.Images.Where(img => img.Number == 1)?.First()?.Name)" alt="">
                    </a>
                </div>
                <div class="article-body">
                    <h4 class="article-title"><a href="/Articles/Details/@a.Id">@a.Heading</a></h4>
                    <ul class="article-meta">
                        <li><i class="fa fa-clock-o"></i>  @a.Datetime</li>
                        <li><i class="fa fa-comments"></i> @a.Comments.Count</li>
                    </ul>
                </div>
            </article>
            <!-- /ARTICLE -->
        }
    </div>
    <!-- /article widget -->
    </div>
